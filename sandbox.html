<!doctype html>
<html>
  <head>
    <script src="handlebars-1.0.0.beta.6.js"></script>
  </head>
  <body>
    <script id="base-template" type="text/x-handlebars-template">
      <div class="entry" style="
  z-index: 2000000000;
  margin-top: -10px;
  position: fixed;
  background: #FFFFFF;
  left: 80%;
  width: 20%;
  height: 120%;">
  <div id="header" style="
  z-index: 2000000001;
  background: DodgerBlue;
  left: 76%;
  width: 24%;
  height: 8%;
  position: fixed;
  text-align: center;">
  <span style="line-height: 6em;"></span>
  <span style="display: inline-block; vertical-align:middle; color: #FFFFFF"><h3>ShoRaq</h3></span>
  </div>
  <div id="tabContainer" style="
  z-index: 2000000000;
  margin-top: -10px;
  position:fixed;
  background: DarkBlue;
  left: 76%;
  width: 4%
;  height: 120%;">
    <div class="tab">ASDF</div>
  </div>
        <h1>hello, {{thing}}</h1>
      </div>
    </script>
    <script>
      var templates = [];
      var source = document.getElementById('base-template').innerHTML;
      templates['base'] = Handlebars.compile(source);

      // Set up message event handler : Messages are sent from sandbox.html -> eventpage.js
      window.addEventListener('message', function(event) {
        var command = event.data.command;
        var name = event.data.name || 'base';
        switch(command) {
          case 'render':
            event.source.postMessage({
              name: name,
              html: templates[name](event.data.context)
            }, event.origin);
            break;

          // You could imagine additional functionality. For instance:
          //
          // case 'new':
          //   templates[event.data.name] = Handlebars.compile(event.data.source);
          //   event.source.postMessage({name: name, success: true}, event.origin);
          //   break;
        }
      });
    </script>
  </body>
</html>
